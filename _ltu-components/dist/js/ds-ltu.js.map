{"version":3,"file":"ds-ltu.js","sources":["../../src/accordion/js/accordion.js","../../src/image-gallery/js/image-gallery.js","../../src/link/js/scroll-links.js","../../src/modal/js/modal.js","../../src/tab/js/tab.js","../../src/tags/js/tab.js","../../src/video/js/modal-video.js"],"sourcesContent":["/**\n * Accordion\n *\n * TODO: add up/down and home/end keyboard controls https://www.w3.org/TR/wai-aria-practices-1.1/examples/accordion/accordion.html\n */\njQuery(document).ready(function($) {\n \t//do jQuery stuff when DOM is ready\n    $( \".ds-accordion__trigger\" ).click(function() {\n        $(this).toggleClass(\"ds-accordion__trigger--active\");\n\n        if ($(this).attr('aria-expanded') == 'true') {\n            $(this).attr( 'aria-expanded', 'false');\n        } else {\n            $(this).attr( 'aria-expanded', 'true');\n        }\n\n        $(this).parent().next(\".ds-accordion__content\").slideToggle( \"ds-accordion__trigger--active\" );\n    });\n});\n","/**\n * Click handler for image gallery - opens all images in a modal\n *\n * @requires /_ltu-components/src/modal/js/modal.js\n */\njQuery(document).ready(function($) {\n \t//do jQuery stuff when DOM is ready\n    $('body').on('click', '.ds-image-gallery__image, .ds-image-gallery__more button', function(e) {\n        e.preventDefault();\n        var target = e.target;\n        var modalContent = $(this).parents('.ds-image-gallery');\n        modalContent = modalContent.html();\n        openModal(target, modalContent);\n    });\n});\n","/**\n * Smooth scroll for jump links\n */\njQuery(document).ready(function($) {\n    //do jQuery stuff when DOM is ready\n    $('a.scroll-link[href*=\"#\"]')\n    // Remove links that don't actually link to anything\n    .not('[href=\"#\"]')\n    .not('[href=\"#0\"]')\n    .click(function(event) {\n        // adjust scroll offset for sticky or fixed header\n        var headerHeight = 0;\n        var headerPosition = $('header').css('position');\n        if (headerPosition == ('sticky' || 'fixed')) {\n            var headerHeight = $('header').outerHeight();\n        }\n        // On-page links\n        if (\n            location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') &&\n            location.hostname == this.hostname\n        ) {\n            // Figure out element to scroll to\n            var target = $(this.hash);\n            target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n            // Does a scroll target exist?\n            if (target.length) {\n                // Only prevent default if animation is actually gonna happen\n                event.preventDefault();\n                var scrollPosition = target.offset().top - headerHeight;\n                $('html, body').animate({\n                    scrollTop: scrollPosition\n                }, 1000, function() {\n                    // Callback after animation\n                    // Must change focus!\n                    var $target = $(target);\n                    $target.focus();\n                    if ($target.is(\":focus\")) { // Checking if the target was focused\n                        return false;\n                    } else {\n                        $target.attr('tabindex', '-1'); // Adding tabindex for elements not focusable\n                        $target.focus(); // Set focus again\n                    };\n                });\n            }\n        }\n    });\n});\n","/**\n *  Modal\n *  @param: target - element clicked to open modal.\n *  @param: content - content to show in modal\n *  @param: maxWidth - sets a max width for the modal\n */\n\n function openModal(target, content, maxWidth='1280px'){\n     // add an attribute to the clicked link to enable return of focus on overlay close\n     $(target).attr('data-returnfocus', 'yes');\n     // create overlay\n     var dialog = '<div role=\"dialog\" aria-modal=\"true\" class=\"overlay\"><div class=\"ds-modal\">'+content+'</div><button id=\"overlay-close\" class=\"ds-btn--round-light ds-icon-x\">Close</button></div>';\n     // append overlay to page and add overlay-open class to body to stop scroll\n     $('body').append(dialog).addClass('overlay-open');\n     // set max width of modal\n     $('.ds-modal').css('max-width', maxWidth);\n     // fade in overlay change focus to overlay close button\n     $('.overlay[role=\"dialog\"]').fadeIn(function(){\n         //$('#overlay-close').focus();\n         // find first focusable element and set focus\n         $(this).find('button:visible, [href]:visible, input:visible, select:visible, textarea:visible, [tabindex]:not([tabindex=\"-1\"]):visible').eq(0).focus();\n     });\n }\n\n jQuery(document).ready(function($) {\n  \t//do jQuery stuff when DOM is ready\n\n    /**\n     *  Click handler for modal close button\n     */\n    $('body').on('click keydown', '#overlay-close, .overlay[role=\"dialog\"]', function(event) {\n        // find clicked play link\n        var returnFocusLink = '[data-returnfocus=\"yes\"]';\n        if (event.keyCode === undefined || event.keyCode == 13 || event.keyCode == 27) {\n            // undefined for click, 13 for enter key, 27 for esc key\n            event.preventDefault();\n            $('.overlay[role=\"dialog\"]').fadeOut(function(){\n                // delete video iframe to stop playing\n                $('.overlay[role=\"dialog\"]').remove();\n                // return focus to clicked play link and remove identifying attribute\n                $(returnFocusLink).focus().removeAttr('data-returnfocus');\n                // return scroll to body\n                $('body').removeClass('overlay-open');\n            });\n        }\n    });\n\n    /**\n     *  Click handler for standard modal\n     */\n    $('body').on('click', '[data-modal-content]', function(e) {\n        // prevent default click action\n        e.preventDefault();\n\n        // get object that was clicked\n        var target = e.target;\n\n        // get the modal content id from the clicked button\n        var modalContentId = $(target).attr('data-modal-content');\n\n        // get requested modal width\n        var modalWidth = $(target).attr('data-modal-width');\n        if (modalWidth == \"medium\") {\n            maxWidth = \"1024px\";\n        } else if (modalWidth == \"large\") {\n            maxWidth = \"1280px\";\n        } else {\n            maxWidth = \"800px\";\n        }\n\n        //create the modal\n        var modalContent = $('<div/>').append($('#'+modalContentId).clone()).html();\n\n        // show the modal\n        openModal(target, modalContent, maxWidth);\n    });\n});\n","/**\n * Tabs\n */\njQuery(document).ready(function($) {\n    //do jQuery stuff when DOM is ready\n    $('.ds-tabs-nav li:first-child').addClass('active');\n    $('.ds-tab-content__body').hide();\n    $('.ds-tab-content__body:first').show();\n\n    // click function\n    $('.ds-tabs-nav__tab').click(function(){\n        $('.ds-tabs-nav__tab').removeClass('active');\n        $(this).addClass('active');\n        $('.ds-tab-content__body').hide();\n\n        var activeTab = $(this).find('a').attr('href');\n        $(activeTab).fadeIn();\n        return false;\n    });\n});\n","// show first content by default\n$('.tabs-nav li:first-child').addClass('active');\n$('.tab-content').hide();\n$('.tab-content:first').show();\n\n// click function\n$('.tabs-nav li').click(function(){\n    $('.tabs-nav li').removeClass('active');\n    $(this).addClass('active');\n    $('.tab-content').hide();\n\n    var activeTab = $(this).find('a').attr('href');\n    $(activeTab).fadeIn();\n    return false;\n});\n","/**\n * YouTube modal video\n *\n * @requires: /ltu-components/src/modal/js/modal.js\n */\njQuery(document).ready(function($) {\n     //do jQuery stuff when DOM is ready\n    $('body').on('click', 'a[data-youtube]', function(e) {\n        e.preventDefault();\n\n        // get object that was clicked\n        var target = e.target;\n\n        // get the youtube video id from the clicked play link\n        var videoId = $(target).attr('data-youtube');\n\n        // modal content\n        var modalContent = '<div class=\"ds-video\"><iframe id=\"vid-'+videoId+'\" width=\"560\" height=\"315\" type=\"text/html\" src=\"https://www.youtube.com/embed/'+videoId+'?rel=0&amp;autoplay=1\" frameborder=\"0\" allowfullscreen></iframe></div>';\n\n        // open modal with responsive video content\n        openModal(target, modalContent);\n    });\n});\n"],"names":["jQuery","document","ready","$","click","this","toggleClass","attr","parent","next","slideToggle","on","e","preventDefault","target","modalContent","parents","html","openModal","not","event","headerHeight","css","outerHeight","location","pathname","replace","hostname","hash","length","slice","scrollPosition","offset","top","animate","scrollTop","$target","focus","is","undefined","keyCode","fadeOut","remove","removeAttr","removeClass","modalContentId","modalWidth","maxWidth","content","dialog","append","addClass","fadeIn","find","eq","clone","hide","show","activeTab","videoId"],"mappings":"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"}